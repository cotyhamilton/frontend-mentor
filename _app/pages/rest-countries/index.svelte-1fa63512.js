import{S as _e,i as de,s as ve,O as ee,e as m,c as w,a as b,d as h,b as f,g as H,l as te,Q as fe,k as G,t as V,m as U,h as L,N as le,H as a,j as Y,V as se,P as pe,W as re,X as oe,U as z,M as he,Y as ge,R as me,T as we}from"../../chunks/vendor-8ee07fe2.js";function ne(n,e,s){const t=n.slice();return t[15]=e[s],t}function ae(n,e,s){const t=n.slice();return t[18]=e[s],t}function be(n){let e,s,t,r,o,l;return{c(){e=m("button"),s=V("Filter by Region "),t=m("span"),r=V("\u2228"),this.h()},l(i){e=w(i,"BUTTON",{class:!0});var u=b(e);s=L(u,"Filter by Region "),t=w(u,"SPAN",{class:!0});var _=b(t);r=L(_,"\u2228"),_.forEach(h),u.forEach(h),this.h()},h(){f(t,"class","down-arrow svelte-18w4c2x"),f(e,"class","dropdown-button svelte-18w4c2x")},m(i,u){H(i,e,u),a(e,s),a(e,t),a(t,r),o||(l=z(e,"click",n[6]),o=!0)},p:he,d(i){i&&h(e),o=!1,l()}}}function ke(n){let e,s,t,r;return{c(){e=m("button"),s=V(n[2]),this.h()},l(o){e=w(o,"BUTTON",{class:!0});var l=b(e);s=L(l,n[2]),l.forEach(h),this.h()},h(){f(e,"class","dropdown-button svelte-18w4c2x")},m(o,l){H(o,e,l),a(e,s),t||(r=z(e,"click",n[6]),t=!0)},p(o,l){l&4&&Y(s,o[2])},d(o){o&&h(e),t=!1,r()}}}function ie(n){let e,s=n[0],t=[];for(let r=0;r<s.length;r+=1)t[r]=ce(ae(n,s,r));return{c(){e=m("ul");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=w(r,"UL",{class:!0});var o=b(e);for(let l=0;l<t.length;l+=1)t[l].l(o);o.forEach(h),this.h()},h(){f(e,"class","dropdown-list svelte-18w4c2x")},m(r,o){H(r,e,o);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(r,o){if(o&5){s=r[0];let l;for(l=0;l<s.length;l+=1){const i=ae(r,s,l);t[l]?t[l].p(i,o):(t[l]=ce(i),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=s.length}},d(r){r&&h(e),fe(t,r)}}}function Ee(n){let e,s=n[18]+"",t,r,o;function l(){return n[12](n[18])}return{c(){e=m("li"),t=V(s),this.h()},l(i){e=w(i,"LI",{class:!0});var u=b(e);t=L(u,s),u.forEach(h),this.h()},h(){f(e,"class","dropdown-item svelte-18w4c2x")},m(i,u){H(i,e,u),a(e,t),r||(o=z(e,"click",l),r=!0)},p(i,u){n=i,u&1&&s!==(s=n[18]+"")&&Y(t,s)},d(i){i&&h(e),r=!1,o()}}}function ye(n){let e,s,t=n[18]+"",r,o,l,i;function u(){return n[11](n[18])}return{c(){e=m("li"),s=m("strong"),r=V(t),o=G(),this.h()},l(_){e=w(_,"LI",{class:!0});var d=b(e);s=w(d,"STRONG",{});var E=b(s);r=L(E,t),E.forEach(h),o=U(d),d.forEach(h),this.h()},h(){f(e,"class","dropdown-item svelte-18w4c2x")},m(_,d){H(_,e,d),a(e,s),a(s,r),a(e,o),l||(i=z(e,"click",u),l=!0)},p(_,d){n=_,d&1&&t!==(t=n[18]+"")&&Y(r,t)},d(_){_&&h(e),l=!1,i()}}}function ce(n){let e;function s(o,l){return o[2]===o[18]?ye:Ee}let t=s(n),r=t(n);return{c(){r.c(),e=te()},l(o){r.l(o),e=te()},m(o,l){r.m(o,l),H(o,e,l)},p(o,l){t===(t=s(o))&&r?r.p(o,l):(r.d(1),r=t(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){r.d(o),o&&h(e)}}}function ue(n){let e,s,t,r,o,l,i,u=n[15].name.common+"",_,d,E,B,I,P=new Intl.NumberFormat().format(n[15].population)+"",M,O,C,p,j,X=n[15].region+"",q,R,g,S,k,c=n[15].capital+"",T,v,D;return{c(){e=m("a"),s=m("div"),t=m("img"),o=G(),l=m("div"),i=m("h2"),_=V(u),d=G(),E=m("p"),B=m("strong"),I=V("Population: "),M=V(P),O=G(),C=m("p"),p=m("strong"),j=V("Region: "),q=V(X),R=G(),g=m("p"),S=m("strong"),k=V("Capital: "),T=V(c),v=G(),this.h()},l(y){e=w(y,"A",{href:!0,class:!0});var N=b(e);s=w(N,"DIV",{class:!0});var A=b(s);t=w(A,"IMG",{src:!0,alt:!0,height:!0,width:!0,class:!0}),o=U(A),l=w(A,"DIV",{class:!0});var F=b(l);i=w(F,"H2",{class:!0});var Z=b(i);_=L(Z,u),Z.forEach(h),d=U(F),E=w(F,"P",{class:!0});var Q=b(E);B=w(Q,"STRONG",{});var K=b(B);I=L(K,"Population: "),K.forEach(h),M=L(Q,P),Q.forEach(h),O=U(F),C=w(F,"P",{class:!0});var W=b(C);p=w(W,"STRONG",{});var x=b(p);j=L(x,"Region: "),x.forEach(h),q=L(W,X),W.forEach(h),R=U(F),g=w(F,"P",{class:!0});var J=b(g);S=w(J,"STRONG",{});var $=b(S);k=L($,"Capital: "),$.forEach(h),T=L(J,c),J.forEach(h),F.forEach(h),A.forEach(h),v=U(N),N.forEach(h),this.h()},h(){le(t.src,r=n[15].flags.svg)||f(t,"src",r),f(t,"alt","flag"),f(t,"height","132"),f(t,"width","250"),f(t,"class","svelte-18w4c2x"),f(i,"class","svelte-18w4c2x"),f(E,"class","svelte-18w4c2x"),f(C,"class","svelte-18w4c2x"),f(g,"class","svelte-18w4c2x"),f(l,"class","country-text svelte-18w4c2x"),f(s,"class","country svelte-18w4c2x"),f(e,"href",D=`/rest-countries/countries/${n[15].cca3}`),f(e,"class","svelte-18w4c2x")},m(y,N){H(y,e,N),a(e,s),a(s,t),a(s,o),a(s,l),a(l,i),a(i,_),a(l,d),a(l,E),a(E,B),a(B,I),a(E,M),a(l,O),a(l,C),a(C,p),a(p,j),a(C,q),a(l,R),a(l,g),a(g,S),a(S,k),a(g,T),a(e,v)},p(y,N){N&32&&!le(t.src,r=y[15].flags.svg)&&f(t,"src",r),N&32&&u!==(u=y[15].name.common+"")&&Y(_,u),N&32&&P!==(P=new Intl.NumberFormat().format(y[15].population)+"")&&Y(M,P),N&32&&X!==(X=y[15].region+"")&&Y(q,X),N&32&&c!==(c=y[15].capital+"")&&Y(T,c),N&32&&D!==(D=`/rest-countries/countries/${y[15].cca3}`)&&f(e,"href",D)},d(y){y&&h(e)}}}function Te(n){let e=!1,s=()=>{e=!1},t,r,o,l,i,u,_,d,E,B,I,P,M,O,C,p,j;ee(n[9]);function X(c,T){return c[2]?ke:be}let q=X(n),R=q(n),g=n[4]&&ie(n),S=n[5],k=[];for(let c=0;c<S.length;c+=1)k[c]=ue(ne(n,S,c));return{c(){r=G(),o=m("div"),l=m("div"),i=m("div"),u=m("input"),_=G(),d=se("svg"),E=se("path"),B=G(),I=m("div"),R.c(),P=G(),g&&g.c(),M=G(),O=m("div");for(let c=0;c<k.length;c+=1)k[c].c();this.h()},l(c){pe('[data-svelte="svelte-eelogz"]',document.head).forEach(h),r=U(c),o=w(c,"DIV",{class:!0});var v=b(o);l=w(v,"DIV",{class:!0});var D=b(l);i=w(D,"DIV",{class:!0});var y=b(i);u=w(y,"INPUT",{type:!0,placeholder:!0,class:!0}),_=U(y),d=re(y,"svg",{"aria-hidden":!0,class:!0,width:!0,height:!0,viewBox:!0});var N=b(d);E=re(N,"path",{fill:!0,d:!0}),b(E).forEach(h),N.forEach(h),y.forEach(h),B=U(D),I=w(D,"DIV",{});var A=b(I);R.l(A),P=U(A),g&&g.l(A),A.forEach(h),D.forEach(h),M=U(v),O=w(v,"DIV",{class:!0});var F=b(O);for(let Z=0;Z<k.length;Z+=1)k[Z].l(F);F.forEach(h),v.forEach(h),this.h()},h(){document.title="Frontend Mentor | Rest Countries",f(u,"type","text"),f(u,"placeholder","Search for a country..."),f(u,"class","svelte-18w4c2x"),f(E,"fill","#a9a9a9"),f(E,"d","m18 16.5-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5ZM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0Z"),f(d,"aria-hidden","true"),f(d,"class","search-image svelte-18w4c2x"),f(d,"width","18"),f(d,"height","18"),f(d,"viewBox","0 0 18 18"),f(i,"class","search-container svelte-18w4c2x"),f(l,"class","search-and-filter svelte-18w4c2x"),f(O,"class","countries svelte-18w4c2x"),f(o,"class","body")},m(c,T){H(c,r,T),H(c,o,T),a(o,l),a(l,i),a(i,u),oe(u,n[1]),a(i,_),a(i,d),a(d,E),a(l,B),a(l,I),R.m(I,null),a(I,P),g&&g.m(I,null),a(o,M),a(o,O);for(let v=0;v<k.length;v+=1)k[v].m(O,null);p||(j=[z(window,"scroll",()=>{e=!0,clearTimeout(t),t=setTimeout(s,100),n[9]()}),z(u,"input",n[10])],p=!0)},p(c,[T]){if(T&8&&!e&&(e=!0,clearTimeout(t),scrollTo(window.pageXOffset,c[3]),t=setTimeout(s,100)),T&2&&u.value!==c[1]&&oe(u,c[1]),q===(q=X(c))&&R?R.p(c,T):(R.d(1),R=q(c),R&&(R.c(),R.m(I,P))),c[4]?g?g.p(c,T):(g=ie(c),g.c(),g.m(I,null)):g&&(g.d(1),g=null),T&32){S=c[5];let v;for(v=0;v<S.length;v+=1){const D=ne(c,S,v);k[v]?k[v].p(D,T):(k[v]=ue(D),k[v].c(),k[v].m(O,null))}for(;v<k.length;v+=1)k[v].d(1);k.length=S.length}},i(c){C||ee(()=>{C=me(O,we,{y:-5,duration:500}),C.start()})},o:he,d(c){c&&h(r),c&&h(o),R.d(),g&&g.d(),fe(k,c),p=!1,ge(j)}}}async function Ne({fetch:n}){const e=await n("/rest-countries/countries.json");if(e.ok){const s=await e.json(),t=s.map(r=>r.region).filter((r,o,l)=>l.indexOf(r)===o).sort();return{props:{countries:s,regions:t}}}return{status:e.status,error:new Error}}function Ie(n,e,s){let{countries:t}=e,{regions:r}=e,o=!1,l=t.slice(0,250),i="",u=null,_=!0,d;const E=()=>{s(4,o=!o)},B=p=>{u&&(s(2,u=null),o&&s(4,o=!1)),p?(_&&s(8,_=!1),s(5,l=t.filter(j=>j.name.common.toLowerCase().includes(p.toLowerCase())))):_||s(5,l=t)},I=p=>{p?(_&&s(8,_=!1),s(5,l=t.filter(j=>j.region===p))):_||s(5,l=t)};function P(){s(3,d=window.pageYOffset)}function M(){i=this.value,s(1,i)}const O=p=>s(2,u=p),C=p=>s(2,u=p);return n.$$set=p=>{"countries"in p&&s(7,t=p.countries),"regions"in p&&s(0,r=p.regions)},n.$$.update=()=>{n.$$.dirty&2&&B(i),n.$$.dirty&4&&I(u),n.$$.dirty&392&&d&&_&&(s(8,_=!1),s(5,l=t))},[r,i,u,d,o,l,E,t,_,P,M,O,C]}class Oe extends _e{constructor(e){super();de(this,e,Ie,Te,ve,{countries:7,regions:0})}}export{Oe as default,Ne as load};
